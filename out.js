(()=>{var q,h,I,ee,x,$,O,te,P={},M=[],ne=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(n,e){for(var t in e)n[t]=e[t];return n}function F(n){var e=n.parentNode;e&&e.removeChild(n)}function l(n,e,t){var i,r,o,a={};for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?q.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]===void 0&&(a[o]=n.defaultProps[o]);return A(n,a,i,r,null)}function A(n,e,t,i,r){var o={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++I};return r==null&&h.vnode!=null&&h.vnode(o),o}function D(n){return n.children}function w(n,e){this.props=n,this.context=e}function S(n,e){if(e==null)return n.__?S(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?S(n):null}function H(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return H(n)}}function W(n){(!n.__d&&(n.__d=!0)&&x.push(n)&&!E.__r++||O!==h.debounceRendering)&&((O=h.debounceRendering)||$)(E)}function E(){for(var n;E.__r=x.length;)n=x.sort(function(e,t){return e.__v.__b-t.__v.__b}),x=[],n.some(function(e){var t,i,r,o,a,u;e.__d&&(a=(o=(t=e).__v).__e,(u=t.__P)&&(i=[],(r=k({},o)).__v=o.__v+1,U(u,o,r,t.__n,u.ownerSVGElement!==void 0,o.__h!=null?[a]:null,i,a??S(o),o.__h),K(i,o),o.__e!=a&&H(o)))})}function B(n,e,t,i,r,o,a,u,c,f){var s,m,p,_,d,N,y,g=i&&i.__k||M,v=g.length;for(t.__k=[],s=0;s<e.length;s++)if((_=t.__k[s]=(_=e[s])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?A(null,_,null,null,_):Array.isArray(_)?A(D,{children:_},null,null,null):_.__b>0?A(_.type,_.props,_.key,null,_.__v):_)!=null){if(_.__=t,_.__b=t.__b+1,(p=g[s])===null||p&&_.key==p.key&&_.type===p.type)g[s]=void 0;else for(m=0;m<v;m++){if((p=g[m])&&_.key==p.key&&_.type===p.type){g[m]=void 0;break}p=null}U(n,_,p=p||P,r,o,a,u,c,f),d=_.__e,(m=_.ref)&&p.ref!=m&&(y||(y=[]),p.ref&&y.push(p.ref,null,_),y.push(m,_.__c||d,_)),d!=null?(N==null&&(N=d),typeof _.type=="function"&&_.__k===p.__k?_.__d=c=G(_,c,n):c=V(n,_,p,g,d,c),typeof t.type=="function"&&(t.__d=c)):c&&p.__e==c&&c.parentNode!=n&&(c=S(p))}for(t.__e=N,s=v;s--;)g[s]!=null&&(typeof t.type=="function"&&g[s].__e!=null&&g[s].__e==t.__d&&(t.__d=S(i,s+1)),X(g[s],g[s]));if(y)for(s=0;s<y.length;s++)Q(y[s],y[++s],y[++s])}function G(n,e,t){for(var i,r=n.__k,o=0;r&&o<r.length;o++)(i=r[o])&&(i.__=n,e=typeof i.type=="function"?G(i,e,t):V(t,i,i,r,i.__e,e));return e}function V(n,e,t,i,r,o){var a,u,c;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(t==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(r),a=null;else{for(u=o,c=0;(u=u.nextSibling)&&c<i.length;c+=2)if(u==r)break e;n.insertBefore(r,o),a=o}return a!==void 0?a:r.nextSibling}function oe(n,e,t,i,r){var o;for(o in t)o==="children"||o==="key"||o in e||L(n,o,null,t[o],i);for(o in e)r&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||L(n,o,e[o],t[o],i)}function j(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||ne.test(e)?t:t+"px"}function L(n,e,t,i,r){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||j(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||j(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?i||n.addEventListener(e,o?z:Y,o):n.removeEventListener(e,o?z:Y,o);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||e[0]==="a"&&e[1]==="r")?n.setAttribute(e,t):n.removeAttribute(e))}}function Y(n){this.l[n.type+!1](h.event?h.event(n):n)}function z(n){this.l[n.type+!0](h.event?h.event(n):n)}function U(n,e,t,i,r,o,a,u,c){var f,s,m,p,_,d,N,y,g,v,T,b=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,u=e.__e=t.__e,e.__h=null,o=[u]),(f=h.__b)&&f(e);try{e:if(typeof b=="function"){if(y=e.props,g=(f=b.contextType)&&i[f.__c],v=f?g?g.props.value:f.__:i,t.__c?N=(s=e.__c=t.__c).__=s.__E:("prototype"in b&&b.prototype.render?e.__c=s=new b(y,v):(e.__c=s=new w(y,v),s.constructor=b,s.render=se),g&&g.sub(s),s.props=y,s.state||(s.state={}),s.context=v,s.__n=i,m=s.__d=!0,s.__h=[]),s.__s==null&&(s.__s=s.state),b.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=k({},s.__s)),k(s.__s,b.getDerivedStateFromProps(y,s.__s))),p=s.props,_=s.state,m)b.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(b.getDerivedStateFromProps==null&&y!==p&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(y,v),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(y,s.__s,v)===!1||e.__v===t.__v){s.props=y,s.state=s.__s,e.__v!==t.__v&&(s.__d=!1),s.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(C){C&&(C.__=e)}),s.__h.length&&a.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(y,s.__s,v),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(p,_,d)})}s.context=v,s.props=y,s.state=s.__s,(f=h.__r)&&f(e),s.__d=!1,s.__v=e,s.__P=n,f=s.render(s.props,s.state,s.context),s.state=s.__s,s.getChildContext!=null&&(i=k(k({},i),s.getChildContext())),m||s.getSnapshotBeforeUpdate==null||(d=s.getSnapshotBeforeUpdate(p,_)),T=f!=null&&f.type===D&&f.key==null?f.props.children:f,B(n,Array.isArray(T)?T:[T],e,t,i,r,o,a,u,c),s.base=e.__e,e.__h=null,s.__h.length&&a.push(s),N&&(s.__E=s.__=null),s.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=re(t.__e,e,t,i,r,o,a,c);(f=h.diffed)&&f(e)}catch(C){e.__v=null,(c||o!=null)&&(e.__e=u,e.__h=!!c,o[o.indexOf(u)]=null),h.__e(C,e,t)}}function K(n,e){h.__c&&h.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){h.__e(i,t.__v)}})}function re(n,e,t,i,r,o,a,u){var c,f,s,m=t.props,p=e.props,_=e.type,d=0;if(_==="svg"&&(r=!0),o!=null){for(;d<o.length;d++)if((c=o[d])&&"setAttribute"in c==!!_&&(_?c.localName===_:c.nodeType===3)){n=c,o[d]=null;break}}if(n==null){if(_===null)return document.createTextNode(p);n=r?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,p.is&&p),o=null,u=!1}if(_===null)m===p||u&&n.data===p||(n.data=p);else{if(o=o&&q.call(n.childNodes),f=(m=t.props||P).dangerouslySetInnerHTML,s=p.dangerouslySetInnerHTML,!u){if(o!=null)for(m={},d=0;d<n.attributes.length;d++)m[n.attributes[d].name]=n.attributes[d].value;(s||f)&&(s&&(f&&s.__html==f.__html||s.__html===n.innerHTML)||(n.innerHTML=s&&s.__html||""))}if(oe(n,p,m,r,u),s)e.__k=[];else if(d=e.props.children,B(n,Array.isArray(d)?d:[d],e,t,i,r&&_!=="foreignObject",o,a,o?o[0]:t.__k&&S(t,0),u),o!=null)for(d=o.length;d--;)o[d]!=null&&F(o[d]);u||("value"in p&&(d=p.value)!==void 0&&(d!==m.value||d!==n.value||_==="progress"&&!d)&&L(n,"value",d,m.value,!1),"checked"in p&&(d=p.checked)!==void 0&&d!==n.checked&&L(n,"checked",d,m.checked,!1))}return n}function Q(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){h.__e(i,t)}}function X(n,e,t){var i,r;if(h.unmount&&h.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Q(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){h.__e(o,e)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&X(i[r],e,typeof n.type!="function");t||n.__e==null||F(n.__e),n.__e=n.__d=void 0}function se(n,e,t){return this.constructor(n,t)}function R(n,e,t){var i,r,o;h.__&&h.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,o=[],U(e,n=(!i&&t||e).__k=l(D,null,[n]),r||P,P,e.ownerSVGElement!==void 0,!i&&t?[t]:r?null:e.firstChild?q.call(e.childNodes):null,o,!i&&t?t:r?r.__e:e.firstChild,i),K(o,n)}q=M.slice,h={__e:function(n,e){for(var t,i,r;e=e.__;)if((t=e.__c)&&!t.__)try{if((i=t.constructor)&&i.getDerivedStateFromError!=null&&(t.setState(i.getDerivedStateFromError(n)),r=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(n),r=t.__d),r)return t.__E=t}catch(o){n=o}throw n}},I=0,ee=function(n){return n!=null&&n.constructor===void 0},w.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof n=="function"&&(n=n(k({},t),this.props)),n&&k(t,n),n!=null&&this.__v&&(e&&this.__h.push(e),W(this))},w.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),W(this))},w.prototype.render=D,x=[],$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E.__r=0,te=0;var ie="https://salty-ocean-46227.herokuapp.com";function le(n,e){return`https://${n}.fandom.com/wiki/${e}`}var J=class extends w{constructor(e){super(e);this.state={showRows:!0}}render(){let e=this.props.aside;if(!e)return null;let t=this.props.parser,i=[];if(!!!e.querySelector("figure"))return null;let o=null,a=e.querySelector("h2");a&&(o=l("h2",null,t.text(a)));let u=t.imgsrc(e.querySelector("figure").querySelector("img").src);for(let c of e.querySelectorAll("div.pi-item"))if(c.children.length!==0)if(c.children.length===1)i.push(t.parseNode(c));else if(c.children.length===2){let f=t.parseNode(c.children[0]),s=t.parseNode(c.children[1]);i.push(l("tr",null,l("td",null,f),l("td",null,s)))}else i.push(t.parseNode(c));return l("aside",null,o,l("div",{style:{display:"flex",justifyContent:"center"}},l("img",{src:u})),l("div",{onClick:()=>{this.setState({showRows:!this.state.showRows})}},l("button",null,this.state.showRows?"Hide":"Show")),this.state.showRows?l("table",null,i):null)}};var Z=class{constructor(e,t){this.raw_text=e,this.wiki=t;let i=new DOMParser;this.html=i.parseFromString(e,"text/html"),this.buildingTable=!1}qs(e){return this.html.querySelector(e)}text(e){return e?e.innerText.trim():(console.error("unknown el"),"-")}title(){return this.text(this.qs(".page-header__title"))}imgsrc(e){return e.includes("/revision/")?e.split("/revision/")[0]:e}aside(){let t=this.qs("div.mw-parser-output").querySelector("aside");return l(J,{aside:t,parser:this})}toc(){let e=this.qs("#toc");if(!e)return null;let t=[],i=(r,o)=>{for(let a of r.children){let u=a.children[0],c=this.text(u.querySelector(".toctext"));t.push(l("div",{style:{marginLeft:`${20*o}px`}},l("a",{href:`#${encodeURI(c)}`},this.text(u))));let f=a.querySelector("ul");f&&i(f,o+1)}};return i(e.querySelector("ul"),0),l("div",{className:"toc"},t)}stripSuffix(e,t){return e.endsWith(t)?e.slice(0,-t.length):e}parseNode(e){let t=[],i={SMALL:"small",B:"b",I:"i",P:"p",EM:"em",SPAN:"span",THEAD:"thead",TBODY:"tbody",TR:"tr",CENTER:"center",FONT:"font",STRONG:"strong",ASIDE:"aside",SECTION:"section"};for(let r of e.childNodes){if(i[r.nodeName]){let o=`${i[r.nodeName]}`;t.push(l(o,null,this.parseNode(r)));continue}if(r.nodeName==="A"){let o=r.href;if(r.href.startsWith(window.location.origin)){let a=r.href.split("/wiki/")[1];o=`${window.location.origin}/?p=${this.wiki}/${a}`}t.push(l("a",{href:o},this.parseNode(r)))}else if(r.nodeName==="#text"){let o=r.textContent.trim()==="";(!o||o&&!this.buildingTable)&&t.push(l("span",null,r.textContent))}else if(r.nodeName!=="SUP")if(r.nodeName==="BR")t.push(l("br",null));else if(r.nodeName==="DL")t.push(this.blockquoteFromDl(r));else if(r.nodeName==="H2"){let o=this.stripSuffix(this.text(r),"[]");t.push(l("h2",{id:encodeURI(o)},o))}else if(r.nodeName==="H3"){let o=this.stripSuffix(this.text(r),"[]");t.push(l("h3",{id:encodeURI(o)},o))}else if(r.nodeName==="H4"){let o=this.stripSuffix(this.text(r),"[]");t.push(l("h4",{id:encodeURI(o)},o))}else if(r.nodeName==="BLOCKQUOTE"){let o=r.querySelector("i"),a=null;if(o){a=this.parseNode(o);let u=r.querySelector("cite"),c=null;u&&(c=l("cite",null,l("small",null,this.parseNode(u)))),t.push(l("blockquote",null,a,c))}else t.push(l("blockquote",null,this.parseNode(r)))}else if(r.nodeName==="DIV"){let o=r.querySelector("dl");o?t.push(this.blockquoteFromDl(o)):r.id==="ma-article-type"?t.push(l("p",{className:"article-type"},this.parseNode(r))):t.push(l("p",null,this.parseNode(r)))}else if(r.nodeName==="FIGURE"){let o=r.querySelector("a").href.split("/revision/")[0],a=this.text(r.querySelector("figcaption"));t.push(l("figure",null,l("img",{src:o}),l("figcaption",null,l("span",null,a))))}else if(r.nodeName==="UL")t.push(this.parseList(r,"ul"));else if(r.nodeName==="OL")t.push(this.parseList(r,"ol"));else if(r.nodeName==="IMG"){let o=r.getAttribute("data-src"),a=r.src;o&&(a=r.getAttribute("data-src")),t.push(l("img",{src:this.imgsrc(a)}))}else r.nodeName==="TD"?t.push(this.parseTableCell(r,"td")):r.nodeName==="TH"?t.push(this.parseTableCell(r,"th")):r.nodeName==="TABLE"?(this.buildingTable=!0,t.push(l("table",null,this.parseNode(r))),this.buildingTable=!1):r.nodeName==="NOSCRIPT"||(console.log("Unknown node:",r.nodeName),t.push(l("span",null,r.innerText)))}return t}parseTableCell(e,t){return l(t,{style:{background:e.style.background},rowspan:e.getAttribute("rowspan"),colspan:e.getAttribute("colspan")},this.parseNode(e))}parseList(e,t){let i=t,r=[];for(let o of e.querySelectorAll("li"))r.push(l("li",null,this.parseNode(o)));return l(i,null,r)}blockquoteFromDl(e){let t=this.parseNode(e.children[0]),i=null;return e.children[1]&&(i=l("cite",null,this.parseNode(e.children[1]))),l("blockquote",null,t,i)}sections(){let e=this.qs("div.mw-parser-output"),t=!1,i=[];e.querySelector("#toc")||(t=!0);let r=[];for(let o of e.children)t&&r.push(o),o.id==="toc"&&(t=!0);return l("div",{className:"sections"},this.parseNode({childNodes:r}))}headParagraphs(){let e=this.qs("div.mw-parser-output");if(!e.querySelector("#toc"))return null;let t=[];for(let r of Array.from(e.childNodes)){if(r.id==="toc")break;r.nodeName==="ASIDE"||r.nodeName==="DIV"&&r.querySelector("aside")||(r.nodeName!=="DL",t.push(r))}let i=this.parseNode({childNodes:t});return l("div",null,i)}};async function _e(){let n=new URL(window.location.href),e=n.searchParams.get("p"),t=null,i=null;if(e){let c=e.split("/");if(c=c.map(f=>f.trim()).filter(f=>f!=""),c.length!=2){alert(`Expected to parts to the path: <wiki>/<page>, instead found ${c}`);return}[t,i]=c}else i=n.pathname.split("/").slice(-1)[0],t=n.pathname.split("https://")[1].split(".")[0];R(l("div",null,"Loading '",i,"' from '",t,"'"),document.body);let r=le(t,i),a=await(await fetch(`${ie}/${r}`)).text(),u=new Z(a,t);document.title=u.title(),R(l("div",null,l("a",{href:r},"origin"),l("h1",null,u.title()),l("p",null,u.aside()),l("p",null,u.headParagraphs()),l("p",null,u.toc()),l("p",null,u.sections())),document.body),sessionStorage[i]&&window.scrollTo(0,sessionStorage[i]),window.onscroll=()=>{sessionStorage[i]=window.scrollY}}_e();})();
